<!DOCTYPE html>
<html>
  <head>
    <style>
      * {
        font-family: Arial;
      }

      /* tabs */

      .tab-container {
        display: flex;
      }
      .tab-link {
        background-color: #555;
        color: white;
        outline: none;
        border: none;
        cursor: pointer;
        height: 100px;
        width: 100%;
      }
      .tab-link:hover {
        background-color: #777;
      }

      /* motor and sensor square boxes on the explore page */

      .explore-box {
        text-align: center;
        width: 400px;
        height: 400px;
        margin: 20px;
        padding: 20px;
        border-radius: 20px;
      }

      #sensor-box {
        background-color: rgba(255, 199, 0, 0.5);
      }

      #motor-box {
        background-color: rgba(6, 165, 255, 0.5);
      }

      /* fonts */

      h1 {
        font-size: 40px;
      }

      h2 {
        font-size: 28px;
      }

      h3 {
        font-size: 25px;
      }

      p {
        font-size: 20px;
      }

      h1,
      h2,
      h3,
      p {
        padding: 0px;
        border: 0px;
        margin: 0px;
      }

      /* containers */

      .flex,
      .responsive-flex {
        display: flex;
        margin: auto;
        margin-top: 20px;
        justify-content: center;
      }

      .flex-column {
        display: flex;
        flex-direction: column;
        align-items: flex-end;
      }

      .page {
        margin: auto;
      }

      .sensor-items {
        margin-top: 20px;
      }

      .training-values {
        margin: 20px;
        text-align: center;
      }

      /* motor slider and gauge */

      .motor-slider {
        -webkit-appearance: slider-vertical;
        margin: 0;
        padding: 0px 20px;
        width: 60px;
      }

      .gauge {
        width: 170px;
      }

      .gauge-body {
        width: 100%;
        height: 0;
        padding-bottom: 200%;
        background: #232323;
        position: relative;
        border-top-left-radius: 200% 100%;
        border-bottom-left-radius: 200% 100%;
        overflow: hidden;
      }
      .gauge-fill {
        position: absolute;
        left: 100%;
        top: 0;
        height: 100%;
        width: 100%;
        background: #06a5ff;
        transform-origin: center left;
        transition: transform 0.2s ease-out;
        transform: rotate(0.25turn);
      }

      /* sensor progress bar */

      .sensor-bar {
        position: relative;
        max-width: 450px;
        height: 50px;
        background: #fff47c;
        border-radius: 10px;
        overflow: hidden;
        margin: auto;
        border-style: solid;
      }

      .sensor-bar-fill {
        width: 0%;
        height: 100%;
        background: #ffd65c;
        transition: all 0.2s;
      }

      .sensor-bar-text {
        position: absolute;
        top: 50%;
        right: 5px;
        transform: translateY(-50%);
        font: bold 16px "Quicksand", sans-serif;
        color: #000000;
      }

      /* buttons */

      #sensor-selector {
        max-width: 200px;
        max-height: 50px;
        margin: auto;
        margin-bottom: 20px;
        margin-top: 20px;
        border-radius: 10px;
        font-size: 25px;
        padding: 10px;
      }

      .button {
        margin-top: 20px;
        border: none;
        border-radius: 20px;
        padding: 20px;
        font-size: 25px;
      }

      .button:hover {
        box-shadow: 0px 4px 10px 0px rgba(0, 0, 0, 0.15);
        transition: box-shadow 0.3s ease-in-out;
      }

      #add-value {
        background-color: #3adb5e;
      }

      #add-value:hover {
        background-color: #55e575;
      }

      /* static graphics */

      .sensor-icon {
        height: 50px;
        max-width: 50px;
        background-color: white;
        margin: auto;
        margin-bottom: 20px;
      }

      .dividing-line {
        height: 2px;
        border-radius: 1px;
        width: 100%;
        display: none;
        background: black;
        margin-bottom: 20px;
      }

      .motor-label,
      .sensor-label {
        text-align: center;
        margin: 20px;
      }
      .motor-label {
        writing-mode: vertical-rl;
        transform: scale(-1);
      }

      /* training values table formatting */

      td,
      th {
        padding: 20px;
      }

      td {
        border: 2px solid black;
      }

      table {
        border-radius: 20px;
        background: black;
        color: white;
        margin: 20px auto;
        border-collapse: collapse;
      }

      /* canvas graph */

      #canvas-graph {
        border: none;
        background-color: red;
      }

      /* breakpoint */

      @media (max-width: 1000px) {
        .responsive-flex {
          display: block;
        }

        .explore-box {
          width: 200px;
          height: 200px;
          margin: auto;
          margin-bottom: 20px;
        }

        .gauge {
          width: 75px;
        }

        .dividing-line {
          display: block;
        }
      }
    </style>
  </head>

  <body>
    <! -- tabs -->
    <div class="tab-container">
      <button id="explore-tab" class="tab-link" onclick="changePage('explore')">
        <h1>Explore</h1>
      </button>
      <button id="train-tab" class="tab-link" onclick="changePage('train')">
        <h1>Train</h1>
      </button>
      <button id="play-tab" class="tab-link" onclick="changePage('play')">
        <h1>Play</h1>
      </button>
    </div>
    <! -- explore page -->
    <div id="explore-page" class="page">
      <div class="responsive-flex">
        <div id="motor-box" class="explore-box">
          <h2>Motor</h2>
          <div id="motor-items" class="flex">
            <div class="gauge">
              <div class="gauge-body">
                <div class="gauge-fill"></div>
                <div class="gauge-cover"></div>
              </div>
            </div>
            <input
              type="range"
              min="1"
              max="180"
              value="90"
              class="motor-slider"
              onchange="moveMotor(this)"
            />
          </div>
        </div>
        <div id="sensor-box" class="explore-box">
          <div class="explore-box-padding">
            <h2>Sensor</h2>
            <select id="sensor-selector" onchange="sensorSelect()">
              <option class="sensor-option" value="none">Select sensor</option>
              <option class="sensor-option" value="light">Light</option>
              <option class="sensor-option" value="distance">Distance</option>
              <option class="sensor-option" value="dial">Dial</option>
            </select>

            <div class="sensor-icon"></div>
            <p id="sensor-low"></p>
            <div class="sensor-bar">
              <div class="sensor-bar-fill"></div>
              <span class="sensor-bar-text">0%</span>
            </div>
            <p id="sensor-high"></p>
          </div>
        </div>
      </div>
    </div>
    <! -- train page -->
    <div id="train-page" class="page">
      <input id="add-value" class="button" type="button" value="Add Value" />
      <div class="responsive-flex">
        <div class="flex-column">
          <div class="flex">
            <h2 class="motor-label">Motor</h2>
            <div class="gauge">
              <div class="gauge-body">
                <div class="gauge-fill"></div>
              </div>
            </div>
            <input
              type="range"
              min="0"
              max="180"
              value="90"
              class="motor-slider"
              onchange="moveMotor(this)"
            />
            <canvas id="canvas-graph" width="450" height="350"></canvas>
          </div>
          <div id="sensor-items">
            <div class="sensor-bar">
              <div class="sensor-bar-fill"></div>
              <span class="sensor-bar-text">0%</span>
            </div>
            <h2 id="sensor-label">Sensor</h2>
          </div>
        </div>
        <div class="training-values">
          <div class="dividing-line"></div>
          <h2>Training Values</h2>
          <table id="table">
            <thead>
              <th><h3>Sensor</h3></th>
              <th><h3>Motor</h3></th>
              <th><h3>Delete</h3></th>
            </thead>
            <tbody id="table-body"></tbody>
          </table>
        </div>
      </div>
    </div>
    <! -- play page -->
    <div id="play-page" class="page">
      <div class="training-values">
        <h3>Training Values</h3>
        <table id="table">
          <thead>
            <th>Sensor</th>
            <th>Motor</th>
          </thead>
          <tbody id="table-body"></tbody>
        </table>
      </div>
    </div>
    <script>
      //hide and show the div for each page when the user clicks on tabs
      function changePage(pageName) {
        if (pageName == "explore") {
          document.getElementById("explore-page").style.display = "block";
          document.getElementById("train-page").style.display = "none";
          document.getElementById("play-page").style.display = "none";
        }
        if (pageName == "train") {
          document.getElementById("explore-page").style.display = "none";
          document.getElementById("train-page").style.display = "block";
          document.getElementById("play-page").style.display = "none";
        }
        if (pageName == "play") {
          document.getElementById("explore-page").style.display = "none";
          document.getElementById("train-page").style.display = "none";
          document.getElementById("play-page").style.display = "block";
        }
      }
      changePage("explore");

      //change size of canvas
      window.onresize = function () {
        resizeCanvas();
      };
      function resizeCanvas() {
        canvas = document.getElementById("canvas-graph");
        if (window.innerWidth < 1000) {
          canvas.width = "350";
          canvas.height = "250";
        } else {
          canvas.width = "450";
          canvas.height = "350";
        }
      }

      //change the dichotomy labels based on the selected sensor
      function sensorSelect() {
        const sensorName = document.getElementById("sensor-selector").value;
        const lowLabel = document.getElementById("sensor-low");
        const highLabel = document.getElementById("sensor-high");
        if (sensorName == "light") {
          lowLabel.innerHTML = "Dark";
          highLabel.innerHTML = "Light";
        } else if (sensorName == "distance") {
          lowLabel.innerHTML = "Close";
          highLabel.innerHTML = "Far";
        } else if (sensorName == "dial") {
          lowLabel.innerHTML = "0";
          highLabel.innerHTML = "360";
        }
      }

      //called when the user moves the motor slider
      function moveMotor(slider) {
        //get the slider value
        const value = slider.value;

        //update the gauge position
        const gauge = document.querySelector(".gauge-fill");
        gauge.style.transform = `rotate(${value / 360}turn)`;

        //send the new value to the motor
      }
    </script>
  </body>
</html>
